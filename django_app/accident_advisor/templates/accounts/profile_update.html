{% extends "base.html" %}
{% load static %}

{% block content %}

  <link rel="stylesheet" href="{% static 'css/profile_update.css' %}">

  <div class="profile-update-container">
    <h2 class="profile-title">{{ title }}</h2>

    {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li {% if message.tags %} class="alert {{ message.tags }}" {% endif %}>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="profile-form">
      {% csrf_token %}

    <div class="form-group">
      <label for="{{ form.nickname.id_for_label }}">닉네임</label>
      
      {{ form.nickname }}
      {% if form.nickname.errors %}
        <div class="form-error">{{ form.nickname.errors|striptags }}</div>
      {% endif %}
    </div>

          <div class="form-group">
        <label for="{{ form.email.id_for_label }}">이메일</label>
        {{ form.email }}
        {% if form.email.errors %}
          <div class="form-error">{{ form.email.errors|striptags }}</div>
        {% endif %}
      </div>

          <div class="form-group">
        <label for="{{ form.profile_image.id_for_label }}">프로필 이미지</label><br>

      {% if user.profile_image %}
        <img src="{{ user.profile_image.url }}" alt="현재 이미지" class="profile-image-preview"><br>
      {% endif %}

        {% if form.delete_image %}
          <label class="delete-image-checkbox">
            {{ form.delete_image }} {{ form.delete_image.label }}
          </label>
        {% endif %}

        {{ form.profile_image }}

        {% if form.profile_image.errors %}
          <div class="form-error">{{ form.profile_image.errors|striptags }}</div>
        {% endif %}
      </div>

    <div class="form-actions">
    <a href="{% url 'accounts:profile' %}" class="btn-profile-cancel">취소</a>
    <a href="{% url 'accounts:password_reset' %}" class="btn-profile-reset">비밀번호 재설정</a>
  <button type="submit" class="btn-profile-save">저장</button>
</div>






    </form>
  </div>
{% endblock %}