{% extends "base.html" %}

{% block content %}
  <div class="container">
    <h2 class="my-3">{{ title }}</h2>

    {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>
            {{ message }}
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    <div class="mb-4">
      <p><strong>닉네임:</strong> {{ user.nickname }}</p>
      <p><strong>이메일:</strong> {{ user.email }}</p>
      <p><strong>총 채팅 수:</strong> {{ user.total_chats }}</p>
      <p><strong>총 게시글 수:</strong> {{ user.total_posts }}</p>
      {% if user.profile_image %}
        <p><img src="{{ user.profile_image.url }}" alt="프로필 이미지" width="150" class="img-thumbnail"></p>
      {% else %}
        <p class="text-muted">프로필 이미지 없음</p>
      {% endif %}
    </div>

    <div class="d-flex gap-2">
      <a href="{% url 'accounts:profile_update' %}" class="btn btn-primary">프로필 수정</a>
      <a href="{% url 'accounts:logout' %}" class="btn btn-secondary">로그아웃</a>
    </div>
  </div>
{% endblock %}